<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ğŸ¯ Jogo de Dama Profissional</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- ========================================
         TELA: MENU INICIAL
         ======================================== -->
    <div id="menuScreen" class="screen active">
        <div class="menu-container">
            <div class="logo">ğŸ¯</div>
            <h1>Jogo de Dama</h1>
            <button class="menu-btn btn-primary" onclick="showConfig('pvp')">
                ğŸ‘¥ Jogar vs Jogador (Local)
            </button>
            <button class="menu-btn btn-success" onclick="showMultiplayerMenu()">
                ğŸŒ Jogar Online (Multiplayer)
            </button>
            <button class="menu-btn btn-secondary" onclick="showConfig('pvc')">
                ğŸ¤– Jogar vs Romano (CPU)
            </button>
            <button class="menu-btn btn-info" onclick="showRules()">
                ğŸ“– Como Jogar
            </button>
        </div>
    </div>

    <!-- ========================================
         TELA: CONFIGURAÃ‡ÃƒO
         ======================================== -->
    <div id="configScreen" class="screen">
        <div class="config-container">
            <h1>âš™ï¸ ConfiguraÃ§Ã£o</h1>
            
            <div class="form-group">
                <label>Nome do Jogador 1 (Vermelho):</label>
                <input type="text" id="player1Name" placeholder="Digite seu nome" maxlength="20">
            </div>
            
            <div class="form-group" id="player2Group">
                <label>Nome do Jogador 2 (Preto):</label>
                <input type="text" id="player2Name" placeholder="Digite o nome" maxlength="20">
            </div>
            
            <div class="form-group">
                <label>Tema do Tabuleiro:</label>
                <div class="theme-selector">
                    <div class="theme-option theme-classic selected" data-theme="classic" onclick="selectTheme('classic')"></div>
                    <div class="theme-option theme-wood" data-theme="wood" onclick="selectTheme('wood')"></div>
                    <div class="theme-option theme-modern" data-theme="modern" onclick="selectTheme('modern')"></div>
                    <div class="theme-option theme-neon" data-theme="neon" onclick="selectTheme('neon')"></div>
                </div>
            </div>
            
            <button class="menu-btn btn-success" onclick="startGame()">
                ğŸš€ Iniciar Partida
            </button>
            <button class="menu-btn btn-warning" onclick="showScreen('menuScreen')">
                â† Voltar
            </button>
        </div>
    </div>

    <!-- ========================================
         TELA: JOGO
         ======================================== -->
    <div id="gameScreen" class="screen">
        <div class="game-container">
            <!-- Header com controles -->
            <div class="game-header">
                <button class="btn-game btn-danger" onclick="confirmSurrender()">ğŸ³ï¸ Desistir</button>
                <button class="btn-game btn-warning" onclick="confirmReset()">ğŸ”„ Reiniciar</button>
                <button class="btn-game btn-success" onclick="backToMenu()">ğŸ“‹ Menu</button>
            </div>
            
            <!-- Placar -->
            <div class="scoreboard">
                <div class="player-card" id="player1Card">
                    <div class="player-name">
                        <div class="player-color color-red"></div>
                        <span id="p1Name">Jogador 1</span>
                    </div>
                    <div class="player-stats">
                        <span>PeÃ§as: <strong id="p1Pieces">12</strong></span>
                        <span>Tempo mÃ©dio: <strong id="p1AvgTime">0s</strong></span>
                    </div>
                    <div class="timer time-ok" id="timer1">--</div>
                </div>
                
                <div class="player-card" id="player2Card">
                    <div class="player-name">
                        <div class="player-color color-black"></div>
                        <span id="p2Name">Jogador 2</span>
                    </div>
                    <div class="player-stats">
                        <span>PeÃ§as: <strong id="p2Pieces">12</strong></span>
                        <span>Tempo mÃ©dio: <strong id="p2AvgTime">0s</strong></span>
                    </div>
                    <div class="timer time-ok" id="timer2">--</div>
                </div>
            </div>
            
            <!-- Tabuleiro -->
            <div class="board-wrapper">
                <div class="board theme-classic" id="board"></div>
            </div>
            
            <!-- Mensagens -->
            <div class="message-box msg-info" id="messageBox">
                Selecione uma peÃ§a para comeÃ§ar!
            </div>
        </div>
    </div>

    <!-- ========================================
         MODAL: REGRAS
         ======================================== -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">ğŸ“– Regras do Jogo de Dama</div>
            <ul class="rules-list">
                <li>ğŸ¯ <strong>Objetivo:</strong> Capturar todas as peÃ§as do adversÃ¡rio ou bloquear seus movimentos.</li>
                <li>ğŸ”´ <strong>Jogador 1 (Vermelho):</strong> ComeÃ§a embaixo, move para cima.</li>
                <li>âš« <strong>Jogador 2 (Preto):</strong> ComeÃ§a em cima, move para baixo.</li>
                <li>â¡ï¸ <strong>Movimento:</strong> PeÃ§as movem 1 casa na diagonal para frente.</li>
                <li>âš¡ <strong>Captura:</strong> Pule sobre a peÃ§a inimiga na diagonal. Capturas sÃ£o obrigatÃ³rias!</li>
                <li>ğŸ‘‘ <strong>Dama:</strong> Ao chegar no final do tabuleiro, a peÃ§a vira Dama (coroa dourada).</li>
                <li>ğŸ”„ <strong>Damas:</strong> Podem mover para frente e para trÃ¡s.</li>
                <li>â±ï¸ <strong>Tempo:</strong> VocÃª tem 60 segundos por jogada. Seja rÃ¡pido!</li>
                <li>âš ï¸ <strong>Penalidade:</strong> Quem demora muito mais que o oponente perde uma peÃ§a!</li>
            </ul>
            <div style="text-align: center; margin-top: 20px;">
                <button class="menu-btn btn-success" onclick="closeRules(true)">
                    âœ… Entendi! Vamos jogar!
                </button>
                <button class="menu-btn btn-warning" onclick="closeRules(false)">
                    âŒ NÃ£o entendi, explicar novamente
                </button>
            </div>
        </div>
    </div>

    <!-- ========================================
         MODAL: VITÃ“RIA
         ======================================== -->
    <div id="winnerModal" class="modal">
        <div class="modal-content" style="text-align: center;">
            <div class="modal-header">ğŸ‰ FIM DE JOGO! ğŸ‰</div>
            <h2 style="font-size: 2.5em; margin: 20px 0;" id="winnerText"></h2>
            <div style="font-size: 1.2em; margin: 20px 0;">
                <p id="winnerStats"></p>
            </div>
            <button class="menu-btn btn-success" onclick="playAgain()">
                ğŸ”„ Jogar Novamente
            </button>
            <button class="menu-btn btn-warning" onclick="backToMenu()">
                ğŸ“‹ Voltar ao Menu
            </button>
        </div>
    </div>

    <!-- JavaScript -->
    <!-- ========================================
         TELA: MULTIPLAYER
         ======================================== -->
    <div id="multiplayerScreen" class="screen">
        <div class="config-container">
            <h1>ğŸŒ Jogar Online</h1>
            
            <div class="form-group">
                <label>Seu Nome:</label>
                <input type="text" id="multiplayerName" placeholder="Digite seu nome" maxlength="20">
            </div>
            
            <div class="multiplayer-actions">
                <button id="createRoomBtn" class="btn btn-success" onclick="createMultiplayerRoom()">
                    â• Criar Sala
                </button>
                <button class="btn btn-primary" onclick="showJoinRoom()">
                    ğŸ” Entrar em Sala
                </button>
                <button class="btn btn-secondary" onclick="refreshRoomsList()">
                    ğŸ”„ Atualizar Lista
                </button>
            </div>
            
            <div id="roomInfo" class="room-info" style="display: none;">
                <h3>Sala: <span id="roomIdDisplay"></span></h3>
                <p>Aguardando adversÃ¡rio...</p>
                <p>Compartilhe este cÃ³digo: <strong id="shareRoomId"></strong></p>
            </div>
            
            <div id="roomsList" class="rooms-list" style="display: none;">
                <h3>Salas DisponÃ­veis:</h3>
                <div id="roomsContainer"></div>
            </div>
            
            <button class="btn btn-warning" onclick="backToMenu()">
                â† Voltar ao Menu
            </button>
        </div>
    </div>

    <!-- Socket.IO -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
    <script src="{{ url_for('static', filename='js/multiplayer.js') }}"></script>
</body>
</html>




